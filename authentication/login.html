<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>

    <!-- Reference htmx.min.js from the "public" folder -->
    <!-- <script src="htmx.min.js"></script> -->

    <!-- Reference styles.css from the "public/styles" folder -->
    <link rel="stylesheet" href="node_modules/bootstrap/dist/css/bootstrap.min.css">
</head>
<body>
    <div class="login-container">
        <div class="container">
        <h1>Login</h1>
        <form id="loginForm" hx-post="/log-in" hx-target="body">
            <div class="form-floating mb-3">
                <input type="text" class="form-control" id="username" name="username" placeholder="name@example.com" required>
                <label for="username">Username</label>
            </div>
            <div class="form-floating mb-3">
                <input type="password" class="form-control" id="password" name="password" placeholder="Password" required>
                <label for="password">Password</label>
            </div>
            <button type="submit" class="btn btn-primary">Log In</button>
        </form>
        <div id="login-result"></div>
        <div class="auth-links">
            <a href="/reset">Reset Password</a>
            <span> | </span>
            <a href="/signup">Sign Up</a>
        </div>
    </div>
    </div>

    <!-- Your other HTML content for the login page -->
    <script src="htmx.min.js"></script>
    <script src="js.cookie.min.js"></script>
    <script>

document.body.addEventListener("access_token", function(evt){
    alert('Login Successful!');
});
//     htmx.on('htmx:afterOnLoad', function (event) {
//     // Get the response text from the event detail
//     const responseText = event.detail.value;
//     console.log(responseText)
//     // Check if the response contains "Login Successful"
//     if (responseText.includes("Login successful")) {
//         // Update the content of the "login-result" div or perform any other action
//         const loginResultDiv = document.getElementById("login-result");
//         loginResultDiv.innerHTML = "Login was successful!";
//     }
// });
    </script>
    <!-- Your custom JavaScript scripts if needed -->
</body>
</html>
